\documentclass[DIV=12]{scrartcl}
\setkomafont{sectioning}{\normalfont\bfseries\boldmath}

\usepackage{geometry}

\usepackage[british, main=ngerman]{babel}
\usepackage{xcolor}
\usepackage{tikz}

\setlength\parindent{0pt}
\setlength\parfillskip{1em plus 1fil}
\setlength\parskip{0pt}

%\usepackage{fontspec}
%\setmainfont{Linux Libertine O}
%\setsansfont{Linux Biolinum O}
\newcommand\hugefont[1]{\raisebox{-5pt}{\fontsize{50}{60}\sffamily\bfseries\selectfont #1}}
\newcommand\hugemathfont[1]{{\fontsize{40}{48}\sffamily\bfseries\selectfont #1}}
\newcommand\bigfont[1]{{\fontsize{20}{24}\sffamily\bfseries\selectfont #1}}
%\newcommand\textfontsize[1]{\fontsize{10}{12}\sffamily\selectfont #1}
\newcommand\textfontsize[1]{\fontsize{9}{10}\sffamily\selectfont #1}

\newcommand\rede[1]{\glqq #1\grqq{}}
\newcommand\textrule[1]{\textbf{#1}}
\newcommand\Item{$\bullet$\kern0.333em}

\newdimen\cardwidth
\cardwidth=60mm
\newdimen\cardheight
\cardheight=90mm
\newdimen\cardborder
\cardborder=5mm
\newdimen\cardtextwidth
\cardtextwidth=\cardwidth
\advance\cardtextwidth by -2.5\cardborder
\newdimen\cardlinewidth
\cardlinewidth=0.4pt

\newcount\cardnum
\cardnum=0
\newcount\auxnum
\newcommand\CardBack[1][green!20]{%
  \advance\cardnum by 1%
  \begin{tikzpicture}
%	\draw[line width=\cardlinewidth, rounded corners=5mm] (0,0) rectangle (\cardwidth,\cardheight) coordinate (URex);
	\path (0,0)--(\cardwidth,\cardheight) coordinate[midway] (Center);
	\path (URex)--+(-\cardborder,-\cardborder) coordinate (UR);
	\fill[#1, rounded corners=\cardborder] (\cardborder,\cardborder) coordinate (LL) rectangle (UR);
    \node at (Center) {\hugefont{git}};
  \end{tikzpicture}%
  \ifnum\cardnum>2
  	\cardnum=0
  
  	\vskip-1pt
  \fi
}
\newenvironment{CardFront}[1]{%
  \global\advance\cardnum by 1%
  \begin{tikzpicture}
    \draw[line width=\cardlinewidth, rounded corners=5mm] (0,0) rectangle (\cardwidth,\cardheight) coordinate (URex);
    \path (0,0)--(\cardwidth,\cardheight) coordinate[midway] (Center);
    \path (URex)--+(-\cardborder,-\cardborder) coordinate (UR);
    \fill[bgcolor, rounded corners=\cardborder] (\cardborder,\cardborder) coordinate (LL) rectangle (UR);
    \path (Center)+(0,0.05\cardheight) coordinate (UCenter);
	
	% Überschrift
	\path (UCenter)+(0,0.25\cardheight) node {\bigfont{#1}};
}{
  \end{tikzpicture}%
  \ifnum\cardnum>2
	\global\cardnum=0

	\vskip-1pt
  \fi
}
\colorlet{bgcolor}{gray!20}
\colorlet{bgcolor2}{orange!25} % niedrige CRs
\colorlet{bgcolor3}{red!20}% hohe CRs
\colorlet{errorcolor}{red!75}
\colorlet{warncolor}{orange!75}
\colorlet{nullcolor}{yellow!75}
\colorlet{middlecolor}{green!65}
\colorlet{highcolor}{blue!65}
\newcommand\CardTextField[1]{%
    \path (UCenter)+(0,-0.25\cardwidth-0.025\cardheight) node[anchor=north] {%
	\begin{minipage}{\cardtextwidth}
		\textfontsize\rightskip0pt plus 1em
		#1
	\end{minipage}};
}
\newcommand\CardFrontNumbered[3][commit]{% Überschrift, Zahl, Text
  \begin{CardFront}{#1}
  	\ifnum#2<0
		\colorlet{numcolor}{errorcolor}
  	\else
	    \ifnum#2<8
	      \auxnum=#2
	      \ifnum#2=0\else\advance\auxnum by -1\fi
	      \multiply\auxnum by 14
	      \colorlet{numcolor}{middlecolor!\the\auxnum!nullcolor}
	      \def\eight{white}
	      \auxnum=#2
	    \else
	      \def\eight{black}
	      \ifnum#2<15
	        \auxnum=#2
	        \advance\auxnum by -8
	        \multiply\auxnum by 14
	        \colorlet{numcolor}{highcolor!\the\auxnum!middlecolor}
	        \auxnum=#2
	        \advance\auxnum by -8
	      \else
	        \colorlet{numcolor}{highcolor}
	        \auxnum=7
	      \fi
	    \fi
	\fi
	    
	% Zahlwert
	\draw[line width=1.5pt, fill=numcolor] (UCenter) circle[radius=0.25*\cardwidth];
	\ifnum#2<0\else
		\path (UCenter)+(0,0.025\cardwidth) node[anchor=center] {\hugefont{#2}};
	\fi
	
	% Textbereich
	\CardTextField{#3}
	    
  	\ifnum#2<0
	\else
	    \ifnum\auxnum<4
	    	\def\four{white}
	    \else
	    	\def\four{black}
	    	\advance\auxnum by -4
	    \fi
	    \ifnum\auxnum<2
			\def\two{white}
		\else
			\def\two{black}
			\advance\auxnum by -2
		\fi
	    \ifnum\auxnum<1
			\def\one{white}
		\else
			\def\one{black}
		\fi
	    \path (UCenter)++(-0.09*\cardwidth,-0.125*\cardwidth) coordinate (aux);
	    \draw[fill=\eight] (aux) circle[radius=1mm];
	    \path (aux)++(0.06*\cardwidth,0) coordinate (aux);
		\draw[fill=\four] (aux) circle[radius=1mm];
	    \path (aux)++(0.06*\cardwidth,0) coordinate (aux);
		\draw[fill=\two] (aux) circle[radius=1mm];
	    \path (aux)++(0.06*\cardwidth,0) coordinate (aux);
		\draw[fill=\one] (aux) circle[radius=1mm];
	\fi
  \end{CardFront}%
}
\newcommand\CardFrontCommit[2][\centering\rede{git push!}]{\CardFrontNumbered{#2}{#1}}% Text, Zahl
\newcommand\CardFrontSign[4]{% Überschrift, Zeichen, Farbe, Text
  \begin{CardFront}{#1}
	% Zeichen
	\draw[line width=1.5pt, fill=#3] (UCenter) circle[radius=0.25*\cardwidth];
	\path (UCenter) node[anchor=center] {\hugefont{#2}};

	% Textbereich
	\CardTextField{#4}
  \end{CardFront}%
}
\newcommand\CardFrontTikz[4]{% Überschrift, Tikz-Graphik, Farbe, Text
  \begin{CardFront}{#1}
	% Tikz-Graphik
	\draw[line width=1.5pt, fill=#3] (UCenter) circle[radius=0.25*\cardwidth];
	#2
	
	% Textbereich
	\CardTextField{#4}
  \end{CardFront}%
}
\newcommand\CardFrontTikzBase[3]{% Überschrift, Tikz-Graphik, Text
	\begin{CardFront}{#1}
		% Tikz-Graphik
		#2
		
		% Textbereich
		\CardTextField{#3}
	\end{CardFront}%
}

\newcommand\CardRelease{%
	\CardFrontTikzBase{release}{%
		\path (UCenter)++(-0.075\cardwidth,0) coordinate (center);
		\draw[rounded corners, line width=1.5pt, fill=orange] (center)++(-0.2\cardwidth,-0.175\cardwidth)--++(0.4\cardwidth,0)--++(0.175\cardwidth,0.175\cardwidth)--++(-0.175\cardwidth,0.175\cardwidth)--++(-0.4\cardwidth,0)--cycle;
		\draw[line width=1.5pt, fill=bgcolor] (center)+(0.25\cardwidth,0) circle[radius=3mm];
		\node at (center) {\bigfont{v\,1.x}};
	}{%
	\centerline{\rede{git tag und .\,.\,. Lieferung!}}\vskip0.5ex
%	Ich beschließe, dass der aktuelle Stand ausgeliefert wird:
	\Item Falls das Ziel erreicht ist, werte alle Karten im Repo.\ aus und leg die Karten vom Repo. und die aktuellen Issues auf den Abwurfstapel.\\
	\Item Leg diese Karte auf den Abwurfstapel und ziehe einen neuen CR.}%
}
\newcommand\CardRevert{%
	\CardFrontTikz{revert}{%
		\begin{scope}[line width=2pt]
			\path (UCenter)--+(0.05\cardwidth,0.075\cardheight) coordinate (aux);
			\node[draw, fill=gray, circle, radius=1.5mm]  (A) at (aux) {};
			\path (UCenter)--+(0.05\cardwidth,-0.075\cardheight) coordinate (aux);
			\node[draw, fill=gray, circle, radius=1.5mm]  (B) at (aux) {};
			\draw (A)--(B);
			\draw[->] (A)..controls +(-0.2\cardwidth,0) and +(-0.2\cardwidth,0)..(B);
		\end{scope}
	}{errorcolor}{%
		\centerline{\rede{git revert!}}\vskip0.5ex
		Der gerade geschriebene Code ist fehlerhaft und muss wieder weg:\\[0.5ex]
		\Item Muss unmittelbar auf eine Zahlkarte folgen und negiert sie.\\
		\Item Leg beide Karten auf den Abwurfstapel.}%
}
\newcommand\CardMergeConflict[1]{% Zahlwert
	\CardFrontNumbered{#1}{%
%		\centerline{\textbf{\MakeUppercase{Merge Conflict}}}
		\centerline{\rede{git push -- merge conflict!}}\vskip0.5ex
		Mit diesem Commit verursachst und löst du einen Merge Conflict:\\[0.5ex]
		\Item Übernimm den vorherigen Commit als deinen eigenen, leg ihn unter diese Karte. Diese beiden Commits gelten ab jetzt als einer.}%
}
\newcommand\CardIssue[2][CR]{% Zusatz, Zahlwert
	\CardFrontNumbered[Issue: #1]{#2}{\Item Für diese Lieferung müssen mindestens #2~Codezeilen erreicht werden.}%
}
\newcommand\CardBug[1]{% Zahlwert
	\CardFrontTikzBase{Issue: Bug}{%
		\draw[line width=1.5pt, rounded corners, fill=errorcolor] (UCenter)++(-0.3\cardwidth,-0.2\cardwidth) rectangle ++(0.6\cardwidth,0.4\cardwidth);
		\node at (UCenter) {\hugemathfont{+}\!\hugefont{#1}};
	}{\rede{Ich habe einen Fehler gefunden, der auch noch behoben werden muss.}\\[1ex]
		\Item Leg die Karte in der Mitte ab.
		\Item Für die Lieferung müssen noch #1~Codezeilen zusätzlich erreicht werden.}%
}

\begin{document}
Ein Test für Sonderzeichen: ÄÖÜ äöü ß.

\vfill
Es folgen die Seiten mit den Karten zum Ausdrucken.
\newdimen\auxdim
\auxdim=3\cardwidth
\advance\auxdim by 3\cardlinewidth
\newgeometry{top=10mm,bottom=10mm,textwidth=\auxdim}

\CardFrontSign{help}{?}{warncolor}{%
	\centerline{\rede{git help!}}\vskip0.5ex
	Du weißt gerade nicht weiter und brauchst Hilfe:\\[0.5ex]
	\Item Leg diese Karte auf den Abwurfstapel.\\
	\Item Zieh drei Handkarten zusätzlich, nachdem du \textrule{aufgestockt} hast.}%
\CardFrontSign{status}{?}{nullcolor}{%
	\centerline{\rede{git status!}}\vskip0.5ex
	Du hast gerade keine Idee und brauchst erstmal einen Überblick:\\[0.5ex]
	\Item Leg diese Karte auf den Abwurfstapel.\\
	\Item Zieh eine Handkarte zusätzlich, nachdem du \textrule{aufgestockt} hast.}%
\CardFrontTikz{stash}{%
	\begin{scope}[line width=2pt]
		\draw[fill=gray] (UCenter)+(-0.15\cardwidth,0) rectangle +(0.15\cardwidth,-0.075\cardheight);
		\draw[-latex, line width=3pt] (UCenter)+(0,0.1\cardheight)--(UCenter);
	\end{scope}
	}{violet!60}{%
	\centerline{\rede{git stash!}}\vskip0.5ex
	\Item Leg bis zu zwei Handkarten vor Dir ab.\\
	\Item Diese können weiterhin wie Handkarten ausgespielt werden, gehen aber bei einem Release nicht verloren.}%

\CardRelease%
\CardRelease%
\CardRelease%


\clearpage
\CardBack%
\CardBack%
\CardBack%

\CardBack%
\CardBack%
\CardBack%

\CardBack%
\CardBack%
\CardBack%



\CardFrontCommit{1}%
\CardFrontCommit{2}%
\CardFrontCommit{3}%

\CardFrontCommit{4}%
\CardFrontCommit{5}%
\CardFrontCommit{6}%

\CardFrontCommit{7}%
\CardFrontCommit{8}%
\CardFrontCommit{10}%

%\newgeometry{top=10mm,bottom=10mm,textwidth=3\cardwidth}
\CardBack%
\CardBack%
\CardBack%

\CardBack%
\CardBack%
\CardBack%

\CardBack%
\CardBack%
\CardBack%



\CardFrontCommit{2}%
\CardFrontCommit{3}%
\CardFrontCommit{4}%

\CardMergeConflict{2}%
\CardMergeConflict{3}%
\CardMergeConflict{4}%

\CardRevert%
\CardRevert%
\CardRevert%

\CardBack%
\CardBack%
\CardBack%

\CardBack%
\CardBack%
\CardBack%

\CardBack%
\CardBack%
\CardBack%



\CardIssue{10}%
\CardIssue{12}%
\CardIssue{15}%

\CardIssue{16}%
\CardIssue{20}%
\CardIssue{24}%

\CardBug{5}%
\CardBug{8}%
\CardBug{10}%

\CardBack[bgcolor2]%
\CardBack[bgcolor2]%
\CardBack[bgcolor2]%

\CardBack[bgcolor3]%
\CardBack[bgcolor3]%
\CardBack[bgcolor3]%

\CardBack%
\CardBack%
\CardBack%

\end{document}
